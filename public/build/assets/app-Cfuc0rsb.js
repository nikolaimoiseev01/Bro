function Ht(n,t){return function(){return n.apply(t,arguments)}}const{toString:ue}=Object.prototype,{getPrototypeOf:yt}=Object,tt=(n=>t=>{const e=ue.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),L=n=>(n=n.toLowerCase(),t=>tt(t)===n),et=n=>t=>typeof t===n,{isArray:I}=Array,$=et("undefined");function de(n){return n!==null&&!$(n)&&n.constructor!==null&&!$(n.constructor)&&A(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Wt=L("ArrayBuffer");function he(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Wt(n.buffer),t}const fe=et("string"),A=et("function"),It=et("number"),nt=n=>n!==null&&typeof n=="object",pe=n=>n===!0||n===!1,G=n=>{if(tt(n)!=="object")return!1;const t=yt(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},me=L("Date"),ye=L("File"),ge=L("Blob"),be=L("FileList"),ve=n=>nt(n)&&A(n.pipe),we=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||A(n.append)&&((t=tt(n))==="formdata"||t==="object"&&A(n.toString)&&n.toString()==="[object FormData]"))},Ee=L("URLSearchParams"),[Se,Ce,Re,Te]=["ReadableStream","Request","Response","Headers"].map(L),Oe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),I(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{const s=e?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,n[a],a,n)}}function qt(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const zt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$t=n=>!$(n)&&n!==zt;function lt(){const{caseless:n}=$t(this)&&this||{},t={},e=(i,r)=>{const s=n&&qt(t,r)||r;G(t[s])&&G(i)?t[s]=lt(t[s],i):G(i)?t[s]=lt({},i):I(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&J(arguments[i],e);return t}const Ne=(n,t,e,{allOwnKeys:i}={})=>(J(t,(r,s)=>{e&&A(r)?n[s]=Ht(r,e):n[s]=r},{allOwnKeys:i}),n),xe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_e=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Ae=(n,t,e,i)=>{let r,s,o;const a={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&yt(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Pe=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},Le=n=>{if(!n)return null;if(I(n))return n;let t=n.length;if(!It(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},ke=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&yt(Uint8Array)),De=(n,t)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(n,s[0],s[1])}},Me=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},Fe=L("HTMLFormElement"),Be=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),Ct=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),je=L("RegExp"),Vt=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};J(e,(r,s)=>{let o;(o=t(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},Ue=n=>{Vt(n,(t,e)=>{if(A(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(A(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},He=(n,t)=>{const e={},i=r=>{r.forEach(s=>{e[s]=!0})};return I(n)?i(n):i(String(n).split(t)),e},We=()=>{},Ie=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,st="abcdefghijklmnopqrstuvwxyz",Rt="0123456789",Jt={DIGIT:Rt,ALPHA:st,ALPHA_DIGIT:st+st.toUpperCase()+Rt},qe=(n=16,t=Jt.ALPHA_DIGIT)=>{let e="";const{length:i}=t;for(;n--;)e+=t[Math.random()*i|0];return e};function ze(n){return!!(n&&A(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const $e=n=>{const t=new Array(10),e=(i,r)=>{if(nt(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=I(i)?[]:{};return J(i,(o,a)=>{const d=e(o,r+1);!$(d)&&(s[a]=d)}),t[r]=void 0,s}}return i};return e(n,0)},Ve=L("AsyncFunction"),Je=n=>n&&(nt(n)||A(n))&&A(n.then)&&A(n.catch),l={isArray:I,isArrayBuffer:Wt,isBuffer:de,isFormData:we,isArrayBufferView:he,isString:fe,isNumber:It,isBoolean:pe,isObject:nt,isPlainObject:G,isReadableStream:Se,isRequest:Ce,isResponse:Re,isHeaders:Te,isUndefined:$,isDate:me,isFile:ye,isBlob:ge,isRegExp:je,isFunction:A,isStream:ve,isURLSearchParams:Ee,isTypedArray:ke,isFileList:be,forEach:J,merge:lt,extend:Ne,trim:Oe,stripBOM:xe,inherits:_e,toFlatObject:Ae,kindOf:tt,kindOfTest:L,endsWith:Pe,toArray:Le,forEachEntry:De,matchAll:Me,isHTMLForm:Fe,hasOwnProperty:Ct,hasOwnProp:Ct,reduceDescriptors:Vt,freezeMethods:Ue,toObjectSet:He,toCamelCase:Be,noop:We,toFiniteNumber:Ie,findKey:qt,global:zt,isContextDefined:$t,ALPHABET:Jt,generateString:qe,isSpecCompliantForm:ze,toJSONObject:$e,isAsyncFn:Ve,isThenable:Je};function g(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}l.inherits(g,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xt=g.prototype,Kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Kt[n]={value:n}});Object.defineProperties(g,Kt);Object.defineProperty(Xt,"isAxiosError",{value:!0});g.from=(n,t,e,i,r,s)=>{const o=Object.create(Xt);return l.toFlatObject(n,o,function(d){return d!==Error.prototype},a=>a!=="isAxiosError"),g.call(o,n.message,t,e,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Xe=null;function ut(n){return l.isPlainObject(n)||l.isArray(n)}function Gt(n){return l.endsWith(n,"[]")?n.slice(0,-2):n}function Tt(n,t,e){return n?n.concat(t).map(function(r,s){return r=Gt(r),!e&&s?"["+r+"]":r}).join(e?".":""):t}function Ke(n){return l.isArray(n)&&!n.some(ut)}const Ge=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function it(n,t,e){if(!l.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=l.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!l.isUndefined(v[y])});const i=e.metaTokens,r=e.visitor||c,s=e.dots,o=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(r))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(l.isDate(f))return f.toISOString();if(!d&&l.isBlob(f))throw new g("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(f)||l.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,y,v){let b=f;if(f&&!v&&typeof f=="object"){if(l.endsWith(y,"{}"))y=i?y:y.slice(0,-2),f=JSON.stringify(f);else if(l.isArray(f)&&Ke(f)||(l.isFileList(f)||l.endsWith(y,"[]"))&&(b=l.toArray(f)))return y=Gt(y),b.forEach(function(w,T){!(l.isUndefined(w)||w===null)&&t.append(o===!0?Tt([y],T,s):o===null?y:y+"[]",u(w))}),!1}return ut(f)?!0:(t.append(Tt(v,y,s),u(f)),!1)}const h=[],p=Object.assign(Ge,{defaultVisitor:c,convertValue:u,isVisitable:ut});function m(f,y){if(!l.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(f),l.forEach(f,function(b,S){(!(l.isUndefined(b)||b===null)&&r.call(t,b,l.isString(S)?S.trim():S,y,p))===!0&&m(b,y?y.concat(S):[S])}),h.pop()}}if(!l.isObject(n))throw new TypeError("data must be an object");return m(n),t}function Ot(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function gt(n,t){this._pairs=[],n&&it(n,this,t)}const Yt=gt.prototype;Yt.append=function(t,e){this._pairs.push([t,e])};Yt.toString=function(t){const e=t?function(i){return t.call(this,i,Ot)}:Ot;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function Ye(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qt(n,t,e){if(!t)return n;const i=e&&e.encode||Ye,r=e&&e.serialize;let s;if(r?s=r(t,e):s=l.isURLSearchParams(t)?t.toString():new gt(t,e).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Nt{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qe=typeof URLSearchParams<"u"?URLSearchParams:gt,Ze=typeof FormData<"u"?FormData:null,tn=typeof Blob<"u"?Blob:null,en={isBrowser:!0,classes:{URLSearchParams:Qe,FormData:Ze,Blob:tn},protocols:["http","https","file","blob","url","data"]},bt=typeof window<"u"&&typeof document<"u",nn=(n=>bt&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),rn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sn=bt&&window.location.href||"http://localhost",on=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bt,hasStandardBrowserEnv:nn,hasStandardBrowserWebWorkerEnv:rn,origin:sn},Symbol.toStringTag,{value:"Module"})),P={...on,...en};function an(n,t){return it(n,new P.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,s){return P.isNode&&l.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function cn(n){return l.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ln(n){const t={},e=Object.keys(n);let i;const r=e.length;let s;for(i=0;i<r;i++)s=e[i],t[s]=n[s];return t}function te(n){function t(e,i,r,s){let o=e[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),d=s>=e.length;return o=!o&&l.isArray(r)?r.length:o,d?(l.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!l.isObject(r[o]))&&(r[o]=[]),t(e,i,r[o],s)&&l.isArray(r[o])&&(r[o]=ln(r[o])),!a)}if(l.isFormData(n)&&l.isFunction(n.entries)){const e={};return l.forEachEntry(n,(i,r)=>{t(cn(i),r,e,0)}),e}return null}function un(n,t,e){if(l.isString(n))try{return(t||JSON.parse)(n),l.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const X={transitional:Zt,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=l.isObject(t);if(s&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return r?JSON.stringify(te(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return an(t,this.formSerializer).toString();if((a=l.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return it(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),un(t)):t}],transformResponse:[function(t){const e=this.transitional||X.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(i&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?g.from(a,g.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:P.classes.FormData,Blob:P.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],n=>{X.headers[n]={}});const dn=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hn=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||t[e]&&dn[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},xt=Symbol("internals");function z(n){return n&&String(n).trim().toLowerCase()}function Y(n){return n===!1||n==null?n:l.isArray(n)?n.map(Y):String(n)}function fn(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const pn=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ot(n,t,e,i,r){if(l.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!l.isString(t)){if(l.isString(i))return t.indexOf(i)!==-1;if(l.isRegExp(i))return i.test(t)}}function mn(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function yn(n,t){const e=l.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}class x{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function s(a,d,u){const c=z(d);if(!c)throw new Error("header name must be a non-empty string");const h=l.findKey(r,c);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||d]=Y(a))}const o=(a,d)=>l.forEach(a,(u,c)=>s(u,c,d));if(l.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(l.isString(t)&&(t=t.trim())&&!pn(t))o(hn(t),e);else if(l.isHeaders(t))for(const[a,d]of t.entries())s(d,a,i);else t!=null&&s(e,t,i);return this}get(t,e){if(t=z(t),t){const i=l.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return fn(r);if(l.isFunction(e))return e.call(this,r,i);if(l.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=z(t),t){const i=l.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||ot(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function s(o){if(o=z(o),o){const a=l.findKey(i,o);a&&(!e||ot(i,i[a],a,e))&&(delete i[a],r=!0)}}return l.isArray(t)?t.forEach(s):s(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const s=e[i];(!t||ot(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const e=this,i={};return l.forEach(this,(r,s)=>{const o=l.findKey(i,s);if(o){e[o]=Y(r),delete e[s];return}const a=t?mn(s):String(s).trim();a!==s&&delete e[s],e[a]=Y(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return l.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&l.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[xt]=this[xt]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=z(o);i[a]||(yn(r,o),i[a]=!0)}return l.isArray(t)?t.forEach(s):s(t),this}}x.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(x.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});l.freezeMethods(x);function at(n,t){const e=this||X,i=t||e,r=x.from(i.headers);let s=i.data;return l.forEach(n,function(a){s=a.call(e,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function ee(n){return!!(n&&n.__CANCEL__)}function q(n,t,e){g.call(this,n??"canceled",g.ERR_CANCELED,t,e),this.name="CanceledError"}l.inherits(q,g,{__CANCEL__:!0});function ne(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new g("Request failed with status code "+e.status,[g.ERR_BAD_REQUEST,g.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function gn(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function bn(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=i[s];o||(o=u),e[r]=d,i[r]=u;let h=s,p=0;for(;h!==r;)p+=e[h++],h=h%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),u-o<t)return;const m=c&&u-c;return m?Math.round(p*1e3/m):void 0}}function vn(n,t){let e=0;const i=1e3/t;let r=null;return function(){const o=this===!0,a=Date.now();if(o||a-e>i)return r&&(clearTimeout(r),r=null),e=a,n.apply(null,arguments);r||(r=setTimeout(()=>(r=null,e=Date.now(),n.apply(null,arguments)),i-(a-e)))}}const Q=(n,t,e=3)=>{let i=0;const r=bn(50,250);return vn(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,d=o-i,u=r(d),c=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:d,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null};h[t?"download":"upload"]=!0,n(h)},e)},wn=P.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function r(s){let o=s;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(o){const a=l.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),En=P.hasStandardBrowserEnv?{write(n,t,e,i,r,s){const o=[n+"="+encodeURIComponent(t)];l.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),l.isString(i)&&o.push("path="+i),l.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sn(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Cn(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function ie(n,t){return n&&!Sn(t)?Cn(n,t):t}const _t=n=>n instanceof x?{...n}:n;function U(n,t){t=t||{};const e={};function i(u,c,h){return l.isPlainObject(u)&&l.isPlainObject(c)?l.merge.call({caseless:h},u,c):l.isPlainObject(c)?l.merge({},c):l.isArray(c)?c.slice():c}function r(u,c,h){if(l.isUndefined(c)){if(!l.isUndefined(u))return i(void 0,u,h)}else return i(u,c,h)}function s(u,c){if(!l.isUndefined(c))return i(void 0,c)}function o(u,c){if(l.isUndefined(c)){if(!l.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function a(u,c,h){if(h in t)return i(u,c);if(h in n)return i(void 0,u)}const d={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>r(_t(u),_t(c),!0)};return l.forEach(Object.keys(Object.assign({},n,t)),function(c){const h=d[c]||r,p=h(n[c],t[c],c);l.isUndefined(p)&&h!==a||(e[c]=p)}),e}const re=n=>{const t=U({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=x.from(o),t.url=Qt(ie(t.baseURL,t.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let d;if(l.isFormData(e)){if(P.hasStandardBrowserEnv||P.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...c]=d?d.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(P.hasStandardBrowserEnv&&(i&&l.isFunction(i)&&(i=i(t)),i||i!==!1&&wn(t.url))){const u=r&&s&&En.read(s);u&&o.set(r,u)}return t},Rn=typeof XMLHttpRequest<"u",Tn=Rn&&function(n){return new Promise(function(e,i){const r=re(n);let s=r.data;const o=x.from(r.headers).normalize();let{responseType:a}=r,d;function u(){r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let c=new XMLHttpRequest;c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout;function h(){if(!c)return;const m=x.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:m,config:n,request:c};ne(function(b){e(b),u()},function(b){i(b),u()},y),c=null}"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(i(new g("Request aborted",g.ECONNABORTED,r,c)),c=null)},c.onerror=function(){i(new g("Network Error",g.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let f=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const y=r.transitional||Zt;r.timeoutErrorMessage&&(f=r.timeoutErrorMessage),i(new g(f,y.clarifyTimeoutError?g.ETIMEDOUT:g.ECONNABORTED,r,c)),c=null},s===void 0&&o.setContentType(null),"setRequestHeader"in c&&l.forEach(o.toJSON(),function(f,y){c.setRequestHeader(y,f)}),l.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),a&&a!=="json"&&(c.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&c.addEventListener("progress",Q(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Q(r.onUploadProgress)),(r.cancelToken||r.signal)&&(d=m=>{c&&(i(!m||m.type?new q(null,n,c):m),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const p=gn(r.url);if(p&&P.protocols.indexOf(p)===-1){i(new g("Unsupported protocol "+p+":",g.ERR_BAD_REQUEST,n));return}c.send(s||null)})},On=(n,t)=>{let e=new AbortController,i;const r=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;e.abort(u instanceof g?u:new q(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{r(new g(`timeout ${t} of ms exceeded`,g.ETIMEDOUT))},t);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",r):d.unsubscribe(r))}),n=null)};n.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",r));const{signal:a}=e;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},Nn=function*(n,t){let e=n.byteLength;if(!t||e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},xn=async function*(n,t,e){for await(const i of n)yield*Nn(ArrayBuffer.isView(i)?i:await e(String(i)),t)},At=(n,t,e,i,r)=>{const s=xn(n,t,r);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:d,value:u}=await s.next();if(d){a.close(),i();return}let c=u.byteLength;e&&e(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return i(a),s.return()}},{highWaterMark:2})},Pt=(n,t)=>{const e=n!=null;return i=>setTimeout(()=>t({lengthComputable:e,total:n,loaded:i}))},rt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",se=rt&&typeof ReadableStream=="function",dt=rt&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),_n=se&&(()=>{let n=!1;const t=new Request(P.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t})(),Lt=64*1024,ht=se&&!!(()=>{try{return l.isReadableStream(new Response("").body)}catch{}})(),Z={stream:ht&&(n=>n.body)};rt&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Z[t]&&(Z[t]=l.isFunction(n[t])?e=>e[t]():(e,i)=>{throw new g(`Response type '${t}' is not supported`,g.ERR_NOT_SUPPORT,i)})})})(new Response);const An=async n=>{if(n==null)return 0;if(l.isBlob(n))return n.size;if(l.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(l.isArrayBufferView(n))return n.byteLength;if(l.isURLSearchParams(n)&&(n=n+""),l.isString(n))return(await dt(n)).byteLength},Pn=async(n,t)=>{const e=l.toFiniteNumber(n.getContentLength());return e??An(t)},Ln=rt&&(async n=>{let{url:t,method:e,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:d,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=re(n);u=u?(u+"").toLowerCase():"text";let[m,f]=r||s||o?On([r,s],o):[],y,v;const b=()=>{!y&&setTimeout(()=>{m&&m.unsubscribe()}),y=!0};let S;try{if(d&&_n&&e!=="get"&&e!=="head"&&(S=await Pn(c,i))!==0){let C=new Request(t,{method:"POST",body:i,duplex:"half"}),R;l.isFormData(i)&&(R=C.headers.get("content-type"))&&c.setContentType(R),C.body&&(i=At(C.body,Lt,Pt(S,Q(d)),null,dt))}l.isString(h)||(h=h?"cors":"omit"),v=new Request(t,{...p,signal:m,method:e.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",withCredentials:h});let w=await fetch(v);const T=ht&&(u==="stream"||u==="response");if(ht&&(a||T)){const C={};["status","statusText","headers"].forEach(k=>{C[k]=w[k]});const R=l.toFiniteNumber(w.headers.get("content-length"));w=new Response(At(w.body,Lt,a&&Pt(R,Q(a,!0)),T&&b,dt),C)}u=u||"text";let E=await Z[l.findKey(Z,u)||"text"](w,n);return!T&&b(),f&&f(),await new Promise((C,R)=>{ne(C,R,{data:E,headers:x.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:v})})}catch(w){throw b(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new g("Network Error",g.ERR_NETWORK,n,v),{cause:w.cause||w}):g.from(w,w&&w.code,n,v)}}),ft={http:Xe,xhr:Tn,fetch:Ln};l.forEach(ft,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const kt=n=>`- ${n}`,kn=n=>l.isFunction(n)||n===null||n===!1,oe={getAdapter:n=>{n=l.isArray(n)?n:[n];const{length:t}=n;let e,i;const r={};for(let s=0;s<t;s++){e=n[s];let o;if(i=e,!kn(e)&&(i=ft[(o=String(e)).toLowerCase()],i===void 0))throw new g(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,d])=>`adapter ${a} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(kt).join(`
`):" "+kt(s[0]):"as no adapter specified";throw new g("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:ft};function ct(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new q(null,n)}function Dt(n){return ct(n),n.headers=x.from(n.headers),n.data=at.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),oe.getAdapter(n.adapter||X.adapter)(n).then(function(i){return ct(n),i.data=at.call(n,n.transformResponse,i),i.headers=x.from(i.headers),i},function(i){return ee(i)||(ct(n),i&&i.response&&(i.response.data=at.call(n,n.transformResponse,i.response),i.response.headers=x.from(i.response.headers))),Promise.reject(i)})}const ae="1.7.2",vt={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{vt[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const Mt={};vt.transitional=function(t,e,i){function r(s,o){return"[Axios v"+ae+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new g(r(o," has been removed"+(e?" in "+e:"")),g.ERR_DEPRECATED);return e&&!Mt[o]&&(Mt[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,a):!0}};function Dn(n,t,e){if(typeof n!="object")throw new g("options must be an object",g.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=n[s],d=a===void 0||o(a,s,n);if(d!==!0)throw new g("option "+s+" must be "+d,g.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new g("Unknown option "+s,g.ERR_BAD_OPTION)}}const pt={assertOptions:Dn,validators:vt},D=pt.validators;class j{constructor(t){this.defaults=t,this.interceptors={request:new Nt,response:new Nt}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=U(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:s}=e;i!==void 0&&pt.assertOptions(i,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),r!=null&&(l.isFunction(r)?e.paramsSerializer={serialize:r}:pt.assertOptions(r,{encode:D.function,serialize:D.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&l.merge(s.common,s[e.method]);s&&l.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),e.headers=x.concat(o,s);const a=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(e)===!1||(d=d&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,p;if(!d){const f=[Dt.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),p=f.length,c=Promise.resolve(e);h<p;)c=c.then(f[h++],f[h++]);return c}p=a.length;let m=e;for(h=0;h<p;){const f=a[h++],y=a[h++];try{m=f(m)}catch(v){y.call(this,v);break}}try{c=Dt.call(this,m)}catch(f){return Promise.reject(f)}for(h=0,p=u.length;h<p;)c=c.then(u[h++],u[h++]);return c}getUri(t){t=U(this.defaults,t);const e=ie(t.baseURL,t.url);return Qt(e,t.params,t.paramsSerializer)}}l.forEach(["delete","get","head","options"],function(t){j.prototype[t]=function(e,i){return this.request(U(i||{},{method:t,url:e,data:(i||{}).data}))}});l.forEach(["post","put","patch"],function(t){function e(i){return function(s,o,a){return this.request(U(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}j.prototype[t]=e(),j.prototype[t+"Form"]=e(!0)});class wt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new q(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new wt(function(r){t=r}),cancel:t}}}function Mn(n){return function(e){return n.apply(null,e)}}function Fn(n){return l.isObject(n)&&n.isAxiosError===!0}const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach(([n,t])=>{mt[t]=n});function ce(n){const t=new j(n),e=Ht(j.prototype.request,t);return l.extend(e,j.prototype,t,{allOwnKeys:!0}),l.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return ce(U(n,r))},e}const O=ce(X);O.Axios=j;O.CanceledError=q;O.CancelToken=wt;O.isCancel=ee;O.VERSION=ae;O.toFormData=it;O.AxiosError=g;O.Cancel=O.CanceledError;O.all=function(t){return Promise.all(t)};O.spread=Mn;O.isAxiosError=Fn;O.mergeConfig=U;O.AxiosHeaders=x;O.formToJSON=n=>te(l.isHTMLForm(n)?new FormData(n):n);O.getAdapter=oe.getAdapter;O.HttpStatusCode=mt;O.default=O;window.axios=O;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function N(n,t,e,i){return new(e||(e=Promise))(function(r,s){function o(u){try{d(i.next(u))}catch(c){s(c)}}function a(u){try{d(i.throw(u))}catch(c){s(c)}}function d(u){var c;u.done?r(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}d((i=i.apply(n,t||[])).next())})}class K{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),i==null?void 0:i.once){const r=()=>{this.un(t,r),this.un(t,e)};return this.on(t,r),r}return()=>this.un(t,e)}un(t,e){var i;(i=this.listeners[t])===null||i===void 0||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(i=>i(...e))}}const Ft={decode:function(n,t){return N(this,void 0,void 0,function*(){const e=new AudioContext({sampleRate:t});return e.decodeAudioData(n).finally(()=>e.close())})},createBuffer:function(n,t){return typeof n[0]=="number"&&(n=[n]),function(e){const i=e[0];if(i.some(r=>r>1||r<-1)){const r=i.length;let s=0;for(let o=0;o<r;o++){const a=Math.abs(i[o]);a>s&&(s=a)}for(const o of e)for(let a=0;a<r;a++)o[a]/=s}}(n),{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:e=>n==null?void 0:n[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function le(n,t){const e=t.xmlns?document.createElementNS(t.xmlns,n):document.createElement(n);for(const[i,r]of Object.entries(t))if(i==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?e.appendChild(document.createTextNode(o)):e.appendChild(le(s,o));else i==="style"?Object.assign(e.style,r):i==="textContent"?e.textContent=r:e.setAttribute(i,r.toString());return e}function Bt(n,t,e){const i=le(n,t||{});return e==null||e.appendChild(i),i}var Bn=Object.freeze({__proto__:null,createElement:Bt,default:Bt});const jn={fetchBlob:function(n,t,e){return N(this,void 0,void 0,function*(){const i=yield fetch(n,e);if(i.status>=400)throw new Error(`Failed to fetch ${n}: ${i.status} (${i.statusText})`);return function(r,s){N(this,void 0,void 0,function*(){if(!r.body||!r.headers)return;const o=r.body.getReader(),a=Number(r.headers.get("Content-Length"))||0;let d=0;const u=h=>N(this,void 0,void 0,function*(){d+=(h==null?void 0:h.length)||0;const p=Math.round(d/a*100);s(p)}),c=()=>N(this,void 0,void 0,function*(){let h;try{h=yield o.read()}catch{return}h.done||(u(h.value),yield c())});c()})}(i.clone(),t),i.blob()})}};class Un extends K{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e,i)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,e){const i=this.getSrc();if(t&&i===t)return;this.revokeSrc();const r=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;try{this.media.src=r}catch{this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return N(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){e!=null&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class H extends K{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;const i=this.parentFromOptionsContainer(t.container);this.parent=i;const[r,s]=this.initHtml();i.appendChild(r),this.container=r,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),e&&s.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if(typeof t=="string"?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error("Container not found");return e}initEvents(){const t=e=>{const i=this.wrapper.getBoundingClientRect(),r=e.clientX-i.left,s=e.clientY-i.top;return[r/i.width,s/i.height]};if(this.wrapper.addEventListener("click",e=>{const[i,r]=t(e);this.emit("click",i,r)}),this.wrapper.addEventListener("dblclick",e=>{const[i,r]=t(e);this.emit("dblclick",i,r)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:e,scrollWidth:i,clientWidth:r}=this.scrollContainer,s=e/i,o=(e+r)/i;this.emit("scroll",s,o,e,e+r)}),typeof ResizeObserver=="function"){const e=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{e().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,e,i,r,s=3,o=0,a=100){if(!t)return()=>{};const d=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=h=>{if(h.button!==o)return;h.preventDefault(),h.stopPropagation();let p=h.clientX,m=h.clientY,f=!1;const y=Date.now(),v=E=>{if(E.preventDefault(),E.stopPropagation(),d&&Date.now()-y<a)return;const C=E.clientX,R=E.clientY,k=C-p,F=R-m;if(f||Math.abs(k)>s||Math.abs(F)>s){const B=t.getBoundingClientRect(),{left:Et,top:St}=B;f||(i==null||i(p-Et,m-St),f=!0),e(k,F,C-Et,R-St),p=C,m=R}},b=E=>{if(f){const C=E.clientX,R=E.clientY,k=t.getBoundingClientRect(),{left:F,top:B}=k;r==null||r(C-F,R-B)}u()},S=E=>{E.relatedTarget&&E.relatedTarget!==document.documentElement||b(E)},w=E=>{f&&(E.stopPropagation(),E.preventDefault())},T=E=>{f&&E.preventDefault()};document.addEventListener("pointermove",v),document.addEventListener("pointerup",b),document.addEventListener("pointerout",S),document.addEventListener("pointercancel",S),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("click",w,{capture:!0}),u=()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",b),document.removeEventListener("pointerout",S),document.removeEventListener("pointercancel",S),document.removeEventListener("touchmove",T),setTimeout(()=>{document.removeEventListener("click",w,{capture:!0})},10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}}(this.wrapper,(t,e,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,e){var i;const r=((i=this.audioData)===null||i===void 0?void 0:i.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const s=this.parent.clientHeight||128;return e!=null&&e.every(o=>!o.overlay)?s/r:s}return 128}initHtml(){const t=document.createElement("div"),e=t.attachShadow({mode:"open"});return e.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,e]}setOptions(t){if(this.options.container!==t.container){const e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:e}=this.scrollContainer,i=e*t;this.setScroll(i)}destroy(){var t,e;this.subscriptions.forEach(i=>i()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.unsubscribeOnScroll)===null||e===void 0||e.call(this)}createDelay(t=10){let e,i;const r=()=>{e&&clearTimeout(e),i&&i()};return this.timeouts.push(r),()=>new Promise((s,o)=>{r(),i=o,e=setTimeout(()=>{e=void 0,i=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const e=document.createElement("canvas"),i=e.getContext("2d"),r=e.height*(window.devicePixelRatio||1),s=i.createLinearGradient(0,0,0,r),o=1/(t.length-1);return t.forEach((a,d)=>{const u=d*o;s.addColorStop(u,a)}),s}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,e,i,r){const s=t[0],o=t[1]||t[0],a=s.length,{width:d,height:u}=i.canvas,c=u/2,h=this.getPixelRatio(),p=e.barWidth?e.barWidth*h:1,m=e.barGap?e.barGap*h:e.barWidth?p/2:0,f=e.barRadius||0,y=d/(p+m)/a,v=f&&"roundRect"in i?"roundRect":"rect";i.beginPath();let b=0,S=0,w=0;for(let T=0;T<=a;T++){const E=Math.round(T*y);if(E>b){const k=Math.round(S*c*r),F=k+Math.round(w*c*r)||1;let B=c-k;e.barAlign==="top"?B=0:e.barAlign==="bottom"&&(B=u-F),i[v](b*(p+m),B,p,F,f),b=E,S=0,w=0}const C=Math.abs(s[T]||0),R=Math.abs(o[T]||0);C>S&&(S=C),R>w&&(w=R)}i.fill(),i.closePath()}renderLineWaveform(t,e,i,r){const s=o=>{const a=t[o]||t[0],d=a.length,{height:u}=i.canvas,c=u/2,h=i.canvas.width/d;i.moveTo(0,c);let p=0,m=0;for(let f=0;f<=d;f++){const y=Math.round(f*h);if(y>p){const b=c+(Math.round(m*c*r)||1)*(o===0?-1:1);i.lineTo(p,b),p=y,m=0}const v=Math.abs(a[f]||0);v>m&&(m=v)}i.lineTo(p,c)};i.beginPath(),s(0),s(1),i.fill(),i.closePath()}renderWaveform(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);let r=e.barHeight||1;if(e.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);r=s?1/s:1}e.barWidth||e.barGap||e.barAlign?this.renderBarWaveform(t,e,i,r):this.renderLineWaveform(t,e,i,r)}renderSingleCanvas(t,e,i,r,s,o,a){const d=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(i*d),u.height=Math.round(r*d),u.style.width=`${i}px`,u.style.height=`${r}px`,u.style.left=`${Math.round(s)}px`,o.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,e,c),u.width>0&&u.height>0){const h=u.cloneNode(),p=h.getContext("2d");p.drawImage(u,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(e.progressColor),p.fillRect(0,0,u.width,u.height),a.appendChild(h)}}renderMultiCanvas(t,e,i,r,s,o){const a=this.getPixelRatio(),{clientWidth:d}=this.scrollContainer;if(d*a>=i)return void this.renderSingleCanvas(t,e,d,r,0,s,o);const u=i/a;let c=Math.min(H.MAX_CANVAS_WIDTH,d,u),h={};if(e.barWidth||e.barGap){const v=e.barWidth||.5,b=v+(e.barGap||v/2);c%b!=0&&(c=Math.floor(c/b)*b)}const p=v=>{if(v<0||v>=m||h[v])return;h[v]=!0;const b=v*c,S=Math.min(u-b,c);if(S<=0)return;const w=t.map(T=>{const E=Math.floor(b/u*T.length),C=Math.floor((b+S)/u*T.length);return T.slice(E,C)});this.renderSingleCanvas(w,e,S,r,b,s,o)},m=Math.ceil(u/c),f=this.scrollContainer.scrollLeft/u,y=Math.floor(f*m);p(y-1),p(y),p(y+1),m>1&&(this.unsubscribeOnScroll=this.on("scroll",()=>{const{scrollLeft:v}=this.scrollContainer,b=Math.floor(v/u*m);Object.keys(h).length>H.MAX_NODES&&(s.innerHTML="",o.innerHTML="",h={}),p(b-1),p(b),p(b+1)}))}renderChannel(t,e,i,r){var{overlay:s}=e,o=function(c,h){var p={};for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&h.indexOf(m)<0&&(p[m]=c[m]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var f=0;for(m=Object.getOwnPropertySymbols(c);f<m.length;f++)h.indexOf(m[f])<0&&Object.prototype.propertyIsEnumerable.call(c,m[f])&&(p[m[f]]=c[m[f]])}return p}(e,["overlay"]);const a=document.createElement("div"),d=this.getHeight(o.height,o.splitChannels);a.style.height=`${d}px`,s&&r>0&&(a.style.marginTop=`-${d}px`),this.canvasWrapper.style.minHeight=`${d}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,o,i,d,a,u)}render(t){return N(this,void 0,void 0,function*(){var e;this.timeouts.forEach(d=>d()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),r=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=s>r;const o=this.options.fillParent&&!this.isScrollable,a=(o?r:s)*i;if(this.wrapper.style.width=o?"100%":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let d=0;d<t.numberOfChannels;d++){const u=Object.assign(Object.assign({},this.options),(e=this.options.splitChannels)===null||e===void 0?void 0:e[d]);this.renderChannel([t.getChannelData(d)],u,a,d)}else{const d=[t.getChannelData(0)];t.numberOfChannels>1&&d.push(t.getChannelData(1)),this.renderChannel(d,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){var t;if((t=this.unsubscribeOnScroll)===null||t===void 0||t.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:i}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let s=r-i;s*=2,s=s<0?Math.floor(s):Math.ceil(s),s/=2,this.scrollContainer.scrollLeft+=s}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{scrollLeft:i,scrollWidth:r,clientWidth:s}=this.scrollContainer,o=t*r,a=i,d=i+s,u=s/2;if(this.isDragging)o+30>d?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>d)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const c=o-i-u;e&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,h=c/r,p=(c+s)/r;this.emit("scroll",h,p,c,c+s)}}renderProgress(t,e){if(isNaN(t))return;const i=100*t;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${Math.round(i)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(t,e,i){return N(this,void 0,void 0,function*(){const r=this.canvasWrapper.querySelectorAll("canvas");if(!r.length)throw new Error("No waveform data");if(i==="dataURL"){const s=Array.from(r).map(o=>o.toDataURL(t,e));return Promise.resolve(s)}return Promise.all(Array.from(r).map(s=>new Promise((o,a)=>{s.toBlob(d=>{d?o(d):a(new Error("Could not export image"))},t,e)})))})}}H.MAX_CANVAS_WIDTH=8e3,H.MAX_NODES=10;class Hn extends K{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class jt extends K{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return N(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()}).then(e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e)).then(e=>{this.currentSrc===t&&(this.buffer=e,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;e>=this.duration&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return N(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var e,i;const r=t-this.currentTime;(e=this.bufferNode)===null||e===void 0||e.stop(this.audioContext.currentTime+r),(i=this.bufferNode)===null||i===void 0||i.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return N(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,e;return(t=this._duration)!==null&&t!==void 0?t:((e=this.buffer)===null||e===void 0?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const e=this.buffer.numberOfChannels;for(let i=0;i<e;i++)t.push(this.buffer.getChannelData(i));return t}}const Wn={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class V extends Un{static create(t){return new V(t)}constructor(t){const e=t.media||(t.backend==="WebAudio"?new jt:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Wn,t),this.timer=new Hn;const i=e?void 0:this.getMediaElement();this.renderer=new H(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const r=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:s,duration:o}=this.options;(r||s&&o)&&this.load(r,s,o).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{this.emit("error",t.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,e)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,e))}),this.renderer.on("dblclick",(t,e)=>{this.emit("dblclick",t,e)}),this.renderer.on("scroll",(t,e,i,r)=>{const s=this.getDuration();this.emit("scroll",t*s,e*s,i,r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",e=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(e),clearTimeout(t),this.isPlaying()?i=0:this.options.dragToSeek===!0?i=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(i=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(e)},i),this.emit("interaction",e*this.getDuration()),this.emit("drag",e)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(e=>{this.registerPlugin(e)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(e=>e!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(t,e,i,r){return N(this,void 0,void 0,function*(){var s;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!e&&!i){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(s=this.abortController)===null||s===void 0?void 0:s.signal);const d=u=>this.emit("loading",u);e=yield jn.fetchBlob(t,d,a)}this.setSrc(t,e);const o=yield new Promise(a=>{const d=r||this.getDuration();d?a(d):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!e){const a=this.getMediaElement();a instanceof jt&&(a.duration=o)}if(i)this.decodedData=Ft.createBuffer(i,o||0);else if(e){const a=yield e.arrayBuffer();this.decodedData=yield Ft.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,e,i){return N(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,e,i)}catch(r){throw this.emit("error",r),r}})}loadBlob(t,e,i){return N(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,e,i)}catch(r){throw this.emit("error",r),r}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const r=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<r;o++){const a=this.decodedData.getChannelData(o),d=[],u=a.length/e;for(let c=0;c<e;c++){const h=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let p=0;for(let m=0;m<h.length;m++){const f=h[m];Math.abs(f)>Math.abs(p)&&(p=f)}d.push(Math.round(p*i)/i)}s.push(d)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return N(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return N(this,arguments,void 0,function*(t="image/png",e=1,i="dataURL"){return this.renderer.exportImage(t,e,i)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(e=>e.destroy()),this.subscriptions.forEach(e=>e()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}V.BasePlugin=class extends K{constructor(n){super(),this.subscriptions=[],this.options=n}onInit(){}_init(n){this.wavesurfer=n,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(n=>n())}},V.dom=Bn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _=function(){return _=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},_.apply(this,arguments)},In=function(){function n(t){this.options=t,this.listeners={}}return n.prototype.on=function(t,e){var i=this.listeners[t]||[];this.listeners[t]=i.concat([e])},n.prototype.triggerEvent=function(t,e){var i=this,r=this.listeners[t]||[];r.forEach(function(s){return s({target:i,event:e})})},n}(),W;(function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove"})(W||(W={}));var qn=function(){function n(){this.notifications=[]}return n.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,W.Add,this.notifications)},n.prototype.splice=function(t,e){var i=this.notifications.splice(t,e)[0];return this.updateFn(i,W.Remove,this.notifications),i},n.prototype.indexOf=function(t){return this.notifications.indexOf(t)},n.prototype.onUpdate=function(t){this.updateFn=t},n}(),M;(function(n){n.Dismiss="dismiss",n.Click="click"})(M||(M={}));var Ut={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},zn=function(){function n(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var t=document.createDocumentFragment(),e=this._createHTMLElement({tagName:"div",className:"notyf"});t.appendChild(e),document.body.appendChild(t),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return n.prototype.on=function(t,e){var i;this.events=_(_({},this.events),(i={},i[t]=e,i))},n.prototype.update=function(t,e){e===W.Add?this.addNotification(t):e===W.Remove&&this.removeNotification(t)},n.prototype.removeNotification=function(t){var e=this,i=this._popRenderedNotification(t),r;if(i){r=i.node,r.classList.add("notyf__toast--disappear");var s;r.addEventListener(this.animationEndEventName,s=function(o){o.target===r&&(r.removeEventListener(e.animationEndEventName,s),e.container.removeChild(r))})}},n.prototype.addNotification=function(t){var e=this._renderNotification(t);this.notifications.push({notification:t,node:e}),this._announce(t.options.message||"Notification")},n.prototype._renderNotification=function(t){var e,i=this._buildNotificationCard(t),r=t.options.className;return r&&(e=i.classList).add.apply(e,r.split(" ")),this.container.appendChild(i),i},n.prototype._popRenderedNotification=function(t){for(var e=-1,i=0;i<this.notifications.length&&e<0;i++)this.notifications[i].notification===t&&(e=i);if(e!==-1)return this.notifications.splice(e,1)[0]},n.prototype.getXPosition=function(t){var e;return((e=t==null?void 0:t.position)===null||e===void 0?void 0:e.x)||"right"},n.prototype.getYPosition=function(t){var e;return((e=t==null?void 0:t.position)===null||e===void 0?void 0:e.y)||"bottom"},n.prototype.adjustContainerAlignment=function(t){var e=this.X_POSITION_FLEX_MAP[this.getXPosition(t)],i=this.Y_POSITION_FLEX_MAP[this.getYPosition(t)],r=this.container.style;r.setProperty("justify-content",i),r.setProperty("align-items",e)},n.prototype._buildNotificationCard=function(t){var e=this,i=t.options,r=i.icon;this.adjustContainerAlignment(i);var s=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),o=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),a=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),d=this._createHTMLElement({tagName:"div",className:"notyf__message"});d.innerHTML=i.message||"";var u=i.background||i.backgroundColor;if(r){var c=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof r=="string"||r instanceof String)&&(c.innerHTML=new String(r).valueOf()),typeof r=="object"){var h=r.tagName,p=h===void 0?"i":h,m=r.className,f=r.text,y=r.color,v=y===void 0?u:y,b=this._createHTMLElement({tagName:p,className:m,text:f});v&&(b.style.color=v),c.appendChild(b)}a.appendChild(c)}if(a.appendChild(d),s.appendChild(a),u&&(i.ripple?(o.style.background=u,s.appendChild(o)):s.style.background=u),i.dismissible){var S=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),w=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});S.appendChild(w),a.appendChild(S),s.classList.add("notyf__toast--dismissible"),w.addEventListener("click",function(E){var C,R;(R=(C=e.events)[M.Dismiss])===null||R===void 0||R.call(C,{target:t,event:E}),E.stopPropagation()})}s.addEventListener("click",function(E){var C,R;return(R=(C=e.events)[M.Click])===null||R===void 0?void 0:R.call(C,{target:t,event:E})});var T=this.getYPosition(i)==="top"?"upper":"lower";return s.classList.add("notyf__toast--"+T),s},n.prototype._createHTMLElement=function(t){var e=t.tagName,i=t.className,r=t.text,s=document.createElement(e);return i&&(s.className=i),s.textContent=r||null,s},n.prototype._createA11yContainer=function(){var t=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},n.prototype._announce=function(t){var e=this;this.a11yContainer.textContent="",setTimeout(function(){e.a11yContainer.textContent=t},100)},n.prototype._getAnimationEndEventName=function(){var t=document.createElement("_fake"),e={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},i;for(i in e)if(t.style[i]!==void 0)return e[i];return"animationend"},n}(),$n=function(){function n(t){var e=this;this.dismiss=this._removeNotification,this.notifications=new qn,this.view=new zn;var i=this.registerTypes(t);this.options=_(_({},Ut),t),this.options.types=i,this.notifications.onUpdate(function(r,s){return e.view.update(r,s)}),this.view.on(M.Dismiss,function(r){var s=r.target,o=r.event;e._removeNotification(s),s.triggerEvent(M.Dismiss,o)}),this.view.on(M.Click,function(r){var s=r.target,o=r.event;return s.triggerEvent(M.Click,o)})}return n.prototype.error=function(t){var e=this.normalizeOptions("error",t);return this.open(e)},n.prototype.success=function(t){var e=this.normalizeOptions("success",t);return this.open(e)},n.prototype.open=function(t){var e=this.options.types.find(function(s){var o=s.type;return o===t.type})||{},i=_(_({},e),t);this.assignProps(["ripple","position","dismissible"],i);var r=new In(i);return this._pushNotification(r),r},n.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},n.prototype.assignProps=function(t,e){var i=this;t.forEach(function(r){e[r]=e[r]==null?i.options[r]:e[r]})},n.prototype._pushNotification=function(t){var e=this;this.notifications.push(t);var i=t.options.duration!==void 0?t.options.duration:this.options.duration;i&&setTimeout(function(){return e._removeNotification(t)},i)},n.prototype._removeNotification=function(t){var e=this.notifications.indexOf(t);e!==-1&&this.notifications.splice(e,1)},n.prototype.normalizeOptions=function(t,e){var i={type:t};return typeof e=="string"?i.message=e:typeof e=="object"&&(i=_(_({},i),e)),i},n.prototype.registerTypes=function(t){var e=(t&&t.types||[]).slice(),i=Ut.types.map(function(r){var s=-1;e.forEach(function(a,d){a.type===r.type&&(s=d)});var o=s!==-1?e.splice(s,1)[0]:{};return _(_({},r),o)});return i.concat(e)},n}();window.WaveSurfer=V;window.Swal=Swal;window.notify=new $n({});document.addEventListener("alpine:init",()=>{Alpine.store("data",{showAddTrack:!1,toggle(){this.showAddTrack=!this.showAddTrack}})});Livewire.on("modal_alert",n=>{Swal.fire({title:n.title,text:n.message,icon:n.icon,confirmButtonText:"OK"})});Livewire.on("toast",n=>{console.log(n.type),notify.open({ripple:!1,duration:5e3,position:{x:"center",y:"botton"},type:n.type,message:n.message})});Livewire.on("toggle_showAddTrack",n=>{Alpine.store("data").toggle()});
